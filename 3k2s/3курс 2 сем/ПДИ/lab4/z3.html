<!DOCTYPE HTML>
<html>
	<head>
		<link rel="stylesheet" href="task3css.css">
	</head>
<body>
	
	<table align=center border=1 >
			<tr>
				<td align="center" WIDTH="128" HEIGHT="128"  id="0" onclick="move(0, 'player')"></td>
				<td align="center" WIDTH="128" HEIGHT="128"  id="1" onclick="move(1, 'player')"></td>
				<td align="center" WIDTH="128" HEIGHT="128"  id="2" onclick="move(2, 'player')"></td>
			</tr>
			<tr>
				<td align="center" WIDTH="128" HEIGHT="128" id="3" onclick="move(3, 'player')"></td>
				<td align="center" WIDTH="128" HEIGHT="128" id="4" onclick="move(4, 'player')"></td>
				<td align="center" WIDTH="128" HEIGHT="128" id="5" onclick="move(5, 'player')"></td>
			</tr>
			<tr>
				<td align="center" WIDTH="128" HEIGHT="128" id="6" onclick="move(6, 'player')"></td>
				<td align="center" WIDTH="128" HEIGHT="128" id="7" onclick="move(7, 'player')"></td>
				<td align="center" WIDTH="128" HEIGHT="128" id="8" onclick="move(8, 'player')"></td>
			</tr>
	</table>
	
	<script type="text/javascript">

		var t = new Array(9);
		var win;

		function comp() {
		  var id = Math.floor(Math.random() * 9);
		  if (t[id]) comp();
		  else  move(id, 'comp');
		}

		function checkEnd() {
		  if (t[0]=='player' && t[1]=='player' && t[2]=='player')  return 1;
		  if (t[0]=='comp' && t[1]=='comp' && t[2]=='comp') return 2;
		  
		  if (t[3]=='player' && t[4]=='player' && t[5]=='player')  return 1;
		  if (t[3]=='comp' && t[4]=='comp' && t[5]=='comp') return 2;
		  
		  if (t[6]=='player' && t[7]=='player' && t[8]=='player')  return 1;
		  if (t[6]=='comp' && t[7]=='comp' && t[8]=='comp') return 2;
		  
		  if (t[0]=='player' && t[3]=='player' && t[6]=='player')  return 1;
		  if (t[0]=='comp' && t[3]=='comp' && t[6]=='comp') return 2;
		  
		  if (t[1]=='player' && t[4]=='player' && t[7]=='player')  return 1;
		  if (t[1]=='comp' && t[4]=='comp' && t[7]=='comp') return 2;
		  
		  if (t[2]=='player' && t[5]=='player' && t[8]=='player')  return 1;
		  if (t[2]=='comp' && t[5]=='comp' && t[8]=='comp') return 2;
		  
		  if (t[0]=='player' && t[4]=='player' && t[8]=='player')  return 1;
		  if (t[0]=='comp' && t[4]=='comp' && t[8]=='comp') return 2;
		  
		  if (t[2]=='player' && t[4]=='player' && t[6]=='player')  return 1;
		  if (t[2]=='comp' && t[4]=='comp' && t[6]=='comp') return 2;
		  
		  if(t[0] && t[1] && t[2] && t[3] && t[4] && t[5] && t[6] && t[7] && t[8]) return 3;
		}

		function move(id, role) {
		  if(t[id]) return false;
		  t[id] = role;
		  document.getElementById(id).className = 'cell ' + role;
		  win = checkEnd();
		  if (!checkEnd()) {
		   if (role == 'player') comp();
		   }
		   else reset(win);
		}

		function reset() {
		if (win==1) alert("Победил игрок!");
		if (win==2) alert("Победил компьютер!");
		if (win==3) alert("Ничья!");
		  location.reload();
		} 

	</script>
</body>
</html> 

